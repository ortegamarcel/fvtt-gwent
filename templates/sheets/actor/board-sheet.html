<form class="{{cssClass}}" autocomplete="off">
    {{!-- HEADER --}}
    <div class="board-header">
        <div class="board-banner">
            <div class="board-banner-left">
                <div>
                    {{#if (and data.player1 data.player1.img)}}
                    <img src="{{data.player1.img}}" alt="Player1">
                    {{else}}
                    <img src="icons/svg/mystery-man-black.svg" alt="Player2">
                    {{/if}}
                </div>
                <div class="board-banner-player">
                    <h4>
                        {{#if data.player1}}
                        {{data.player1.name}}
                        {{else}}
                        ???
                        {{/if}}
                    </h4>
                    <div class="board-player-circles">
                        <div class="board-player-circle {{#if (eq data.subphase data.SUBPHASE.round1)}}active{{/if}}"></div>
                        <div class="board-player-circle {{#if (eq data.subphase data.SUBPHASE.round2)}}active{{/if}}"></div>
                        <div class="board-player-circle {{#if (eq data.subphase data.SUBPHASE.round3)}}active{{/if}}"></div>
                    </div>
                </div>
            </div>
            <div class="board-banner-center">
                <img src="icons/svg/combat.svg" alt="VS">
                <span class="board-banner-vs">VS</span>
            </div>
            <div class="board-banner-right">
                <div class="board-banner-player">
                    <h4>
                        {{#if data.player2}}
                        {{data.player2.name}}
                        {{else}}
                        ???
                        {{/if}}
                    </h4>
                    <div class="board-player-circles">
                        <div class="board-player-circle {{#if (eq data.subphase data.SUBPHASE.round1)}}active{{/if}}"></div>
                        <div class="board-player-circle {{#if (eq data.subphase data.SUBPHASE.round2)}}active{{/if}}"></div>
                        <div class="board-player-circle {{#if (eq data.subphase data.SUBPHASE.round3)}}active{{/if}}"></div>
                    </div>
                </div>
                <div>
                    {{#if (and data.player2 data.player2.img)}}
                    <img src="{{data.player2.img}}" alt="Player2">
                    {{else}}
                    <img src="icons/svg/mystery-man-black.svg" alt="Player2">
                    {{/if}}
                </div>
            </div>
        </div>
        <div class="board-round-display">
            {{#if data.subphase}}
            {{localize (concat "GWENT.Board." data.subphase)}}
            {{!-- {{data.subphase}} --}}
            {{/if}}
        </div>
    </div>

    {{!-- BODY --}}
    <div class="board-body">
        <div class="board-field">
            {{!-- Player 1 (Left Side) --}}
            <div>
                {{#each data.board.side1}}
                <div class="gwent-die">
                    <div class="tier">{{this.tier}}</div>
                    <div class="value">{{this.value}}</div>
                </div>
                {{/each}}
            </div>
            {{!-- Player 2 (Right Side) --}}
            <div>
                {{#each data.board.side2}}
                <div class="gwent-die">
                    <div class="tier">{{this.tier}}</div>
                    <div class="value">{{this.value}}</div>
                </div>
                {{/each}}
            </div>
        </div>

        {{!-- Status Display --}}
        <div class="status-display">
            {{#if (not (eq data.phase PHASE.startGame))}}
            {{localize (concat "GWENT.Board." data.phase)}}
            {{else}}
                {{#if (isMyTurn data)}}
                {{localize 'GWENT.Board.yourTurn'}}
                {{else if (amISpectator data)}}
                {{localize 'GWENT.Board.onTheMove'}}: {{data.currentPlayer.name}}
                {{else}}
                {{localize 'GWENT.Board.enemyTurn'}}
                {{/if}}
            {{/if}}
        </div>

        {{!-- Player Controls --}}
        <div class="player-controls">
        {{#unless (eq data.phase PHASE.waitingForPlayers)}}
            {{!-- Player 1 Controls --}}
            {{#if (or (eq data.player1.actorId game.user.character.id) (eq data.player1.isGM game.user.isGM))}}
            <div class="player" data-player="player1">
                {{#each data.player1.dice}}
                <div class="gwent-die clickable" data-player="player1" data-dieIndex="{{@index}}">
                    <div class="tier {{this.tier}}">{{this.tier}}</div>
                    <div class="value">
                        {{#if this.value}}
                        {{this.value}}
                        {{else}}
                        ?
                        {{/if}}
                    </div>
                </div>
                {{/each}}
                {{#unless data.player1.isReady}}
                <button type="button" class="roll-all-dice">{{localize "GWENT.Board.rollAll"}}</button>
                {{/unless}}
            </div>
            {{/if}}

            {{!-- Player 2 Controls --}}
            {{#if (or (eq data.player2.actorId game.user.character.id) (eq data.player2.isGM game.user.isGM))}}
            <div class="player" data-player="player2">
                {{#each data.player2.dice}}
                <div class="gwent-die clickable" data-player="player2" data-dieIndex="{{@index}}">
                    <div class="tier {{this.tier}}">{{this.tier}}</div>
                    <div class="value">
                        {{#if this.value}}
                        {{this.value}}
                        {{else}}
                        ?
                        {{/if}}
                    </div>
                </div>
                {{/each}}
                {{#unless data.player2.isReady}}
                <button type="button" class="roll-all-dice">{{localize "GWENT.Board.rollAll"}}</button>
                {{/unless}}
                {{#if (eq data.phase PHASE.startGame)}}
                    <button type="button" class="pass" {{#unless (isMyTurn data)}}disabled="disabled"{{/unless}}>Pass</button>
                {{/if}}
            </div>
            {{/if}}
        {{/unless}}
        </div>
    </div>

    {{!-- FOOTER --}}
    <div class="board-footer">
        {{#if game.user.isGM}}
        <button type="button" class="reset-game">{{localize "GWENT.Board.resetGame"}}</button>
        {{/if}}
    </div>
</form>